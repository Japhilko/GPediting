idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
qnametxt <- unlist(lapply(strsplit(textlist,"qnameq"),function(x)x[2]))
qnametxt <- unlist(lapply(qnametxt,function(x)sub(".*\\\"> *(.*?)", "\\1", x)))
return(data.frame(txtline=info,idtype,divclass,qnameq,qnametxt))
}
text_info <- findid_qt998(htmldat)
View(text_info)
info <- agrep("qt311",htmldat)
info
textlist <- htmldat[info]
textlist
inputname <- unlist(lapply(textlist,function(x)sub(".*input name=\\\"*(.*?) *\\\".*", "\\1", x)))
inputname
textlist[1]
inputname <- unlist(lapply(textlist,function(x)sub(".*name=\\\"*(.*?) *\\\".*", "\\1", x)))
inputname
x
x <- textlist[1]
x
sub(".*name=\\\"* (.*?) *\\\".*", "\\1", x)
sub(".*name=\\\" *(.*?) *\\\".*", "\\1", x)
inputname <- unlist(lapply(textlist,function(x)sub(".*name=\\\" *(.*?) *\\\".*", "\\1", x)))
inputname
x <- textlist[3]
x
info <- agrep("qt998",htmldat)
textlist <- htmldat[info]
x <- textlist[3]
x
info <- agrep("qt111",htmldat)
textlist <- htmldat[info]
x <- textlist[3]
x
textlist
x
info <- grep("qt311",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
idtype
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
divclass
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
info <- agrep("qt311",htmldat)
textlist <- htmldat[info]
x <- textlist[3]
x
textlist
info <- grep("qt311",htmldat)
textlist <- htmldat[info]
textlist
info <- grep("qt311",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
info1 <- info+1
textlist1 <- htmldat[info1]
textlist1
info2 <- info+2
textlist2 <- htmldat[info2]
textlist2
info2 <- info+3
textlist2 <- htmldat[info2]
textlist2
textlist
textlist3
textlist3 <- htmldat[info3]
info3 <- info+3
textlist3 <- htmldat[info3]
textlist3
tdclass <- unlist(lapply(textlist,function(x)sub(".*td class=\\\" *(.*?) *\\\".*", "\\1", x)))
tdclass
tdclass <- unlist(lapply(textlist3,function(x)sub(".*td class=\\\" *(.*?) *\\\".*", "\\1", x)))
tdclass
textlist3
aname <- unlist(lapply(textlist3,function(x)sub(".*a name=\\\" *(.*?) *\\\".*", "\\1", x)))
aname
textlist3
qnametxt <- unlist(lapply(textlist3,function(x)sub(".*</a> *(.*?)", "\\1", x)))
qnametxt
findid_qt311 <- function(htmldat){
info <- grep("qt311",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
info3 <- info+3
textlist3 <- htmldat[info3]
tdclass <- unlist(lapply(textlist3,function(x)sub(".*td class=\\\" *(.*?) *\\\".*", "\\1", x)))
aname <- unlist(lapply(textlist3,function(x)sub(".*a name=\\\" *(.*?) *\\\".*", "\\1", x)))
qnametxt <- unlist(lapply(textlist3,function(x)sub(".*</a> *(.*?)", "\\1", x)))
return(data.frame(txtline=info,idtype,divclass,qnameq,tdclass,aname,qnametxt))
}
paste0("sub('.*'",pattern1," *(.*?) *",pattern2,".*", '\\1')
pattern1 <- "div id=\\\""
pattern1 <- "div id=\\\""
pattern2 <- ""
paste0("sub('.*'",pattern1," *(.*?) *",pattern2,".*", '\\1')
paste0("sub('.*'",pattern1," *(.*?) *",pattern2,".*", "'\\1')")
paste0("sub('.*'",pattern1," *(.*?) *",pattern2,".*", "'\\1',x)")
paste0("sub('.*",pattern1," *(.*?) *",pattern2,".*", "'\\1',x)")
pattern2 <- "\\\""
paste0("sub('.*",pattern1," *(.*?) *",pattern2,".*,", "'\\1',x)")
paste0("sub('.*",pattern1," *(.*?) *",pattern2,".*',", "'\\1',x)")
paste0("sub('.*",pattern1," *(.*?) *",pattern2,".*', ", "'\\1',x)")
eval(parse(text=paste(paste0("sub('.*",pattern1," *(.*?) *",pattern2,".*', ", "'\\1', x)"))))
x
info3 <- info+4
textlist3 <- htmldat[info3]
textlist3
info3 <- info+5
textlist3 <- htmldat[info3]
htmldat[info3]
info3 <- info+6
htmldat[info3]
info3 <- info+7
htmldat[info3]
info3 <- info+8
htmldat[info3]
info3 <- info+9
htmldat[info3]
info3 <- info+10
htmldat[info3]
htmldat[info3[1]:info[1]+18]
library(GPediting)
library(roxygen2)
roxygenize()
library(GPediting)
library(GPediting)
library("devtools")
install_github(repo = "GPediting",username = "Japhilko")
library(GPediting)
path <- "D:/Daten/GitLab/GesisPanel/tasks/Datendokumentation/data"
path <- "D:/GESIS/projects/GesisPanel/tasks/Datendokumentation/data"
setwd(path)
htmldat <- readLines("Druckversion_eb.html")
dat_998 <- findid_qt998(htmldat)
#' Find commentaries in document
#' @param htmldat a html document.
# htmldat <- dat_i
findid_qt998 <- function(htmldat){
info <- agrep("qt998",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
qnametxt <- unlist(lapply(strsplit(textlist,"qnameq"),function(x)x[2]))
qnametxt <- unlist(lapply(qnametxt,function(x)sub(".*\\\"> *(.*?)", "\\1", x)))
return(data.frame(txtline=info,idtype,divclass,qnameq,qnametxt))
}
dat_998 <- findid_qt998(htmldat)
dat_998
library(GPediting)
library(GPediting)
path <- "D:/Daten/GitLab/GesisPanel/tasks/Datendokumentation/data"
path <- "D:/GESIS/projects/GesisPanel/tasks/Datendokumentation/data"
setwd(path)
htmldat <- readLines("Druckversion_eb.html")
findid_qt998 <- function(htmldat){
info <- agrep("qt998",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
qnametxt <- unlist(lapply(strsplit(textlist,"qnameq"),function(x)x[2]))
qnametxt <- unlist(lapply(qnametxt,function(x)sub(".*\\\"> *(.*?)", "\\1", x)))
return(data.frame(txtline=info,idtype,divclass,qnameq,qnametxt))
}
dat_qt998 <- findid_qt998(htmldat)
dat_qt998[1]
dat_qt998[[1]]
View(dat_qt998)
dat_qt998$qnametxt
gsub(pattern = "<strong>","",dat_qt998$qnametxt)
dat_qt998$qnametxt_b <- gsub(pattern = "Ã¼","ü",dat_qt998$qnametxt)
dat_qt998$qnametxt_b
txt <- dat_qt998$qnametxt_b
txt <- dat_qt998$qnametxt_b
txt <- gsub(pattern = "Ã¼","ü",txt)
txt
txt <- gsub(pattern = "</strong>", "")
txt <- gsub(pattern = "</strong>","",txt)
txt
txt <- gsub(pattern = "<br>","",txt)
txt
txt <- gsub(pattern = "<strong>","",txt)
txt
txt <- gsub(pattern = "Ã¶","ö",txt)
txt
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt
txt <- gsub(pattern = "Ã¤","ä",txt)
txt
txt[1]
txt[2]
txt <- gsub(pattern = "<p>","",txt)
txt
txt[2]
txt <- gsub(pattern = "</p>","",txt)
txt[2]
txt[3]
txt <- gsub(pattern = "</div>","",txt)
txt[3]
txt[4]
txt[5]
txt[6]
txt[7]
txt[8]
txt[9]
txt[10]
txt[11]
txt <- gsub(pattern = "&amp","",txt)
txt[11]
txt[12]
txt <- gsub(pattern = "â€ž","",txt)
txt[12]
txt <- gsub(pattern = "â€œ","",txt)
txt
txt[12]
txt[13]
txt <- dat_qt998$qnametxt_b
txt[13]
txt <- gsub(pattern = "Ã¼","ü",txt)
txt <- gsub(pattern = "</strong>"," ",txt)
txt <- gsub(pattern = "<br>"," ",txt)
txt <- gsub(pattern = "<strong>"," ",txt)
txt <- gsub(pattern = "Ã¶","ö",txt)
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt <- gsub(pattern = "Ã¤","ä",txt)
txt <- gsub(pattern = "<p>"," ",txt)
txt <- gsub(pattern = "</p>"," ",txt)
txt <- gsub(pattern = "</div>"," ",txt)
txt <- gsub(pattern = "&amp"," ",txt)
txt <- gsub(pattern = "â€ž"," ",txt)
txt <- gsub(pattern = "â€œ"," ",txt)
txt[13]
gsub_html <- function(txt){
txt <- gsub(pattern = "Ã¼","ü",txt)
txt <- gsub(pattern = "</strong>"," ",txt)
txt <- gsub(pattern = "<br>"," ",txt)
txt <- gsub(pattern = "<strong>"," ",txt)
txt <- gsub(pattern = "Ã¶","ö",txt)
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt <- gsub(pattern = "Ã¤","ä",txt)
txt <- gsub(pattern = "<p>"," ",txt)
txt <- gsub(pattern = "</p>"," ",txt)
txt <- gsub(pattern = "</div>"," ",txt)
txt <- gsub(pattern = "&amp","-",txt)
txt <- gsub(pattern = "â€ž","-",txt)
txt <- gsub(pattern = "â€œ","-",txt)
}
gsub_html(txt)
gsub_html <- function(txt){
txt <- gsub(pattern = "Ã¼","ü",txt)
txt <- gsub(pattern = "</strong>"," ",txt)
txt <- gsub(pattern = "<br>"," ",txt)
txt <- gsub(pattern = "<strong>"," ",txt)
txt <- gsub(pattern = "Ã¶","ö",txt)
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt <- gsub(pattern = "Ã¤","ä",txt)
txt <- gsub(pattern = "<p>"," ",txt)
txt <- gsub(pattern = "</p>"," ",txt)
txt <- gsub(pattern = "</div>"," ",txt)
txt <- gsub(pattern = "&amp","-",txt)
txt <- gsub(pattern = "â€ž","-",txt)
txt <- gsub(pattern = "â€œ","-",txt)
}
gsub_html(dat_qt998$qnametxt_b)
gsub_html <- function(txt){
txt <- gsub(pattern = "Ã¼","ü",txt)
txt <- gsub(pattern = "</strong>"," ",txt)
txt <- gsub(pattern = "<br>"," ",txt)
txt <- gsub(pattern = "<strong>"," ",txt)
txt <- gsub(pattern = "Ã¶","ö",txt)
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt <- gsub(pattern = "Ã¤","ä",txt)
txt <- gsub(pattern = "<p>"," ",txt)
txt <- gsub(pattern = "</p>"," ",txt)
txt <- gsub(pattern = "</div>"," ",txt)
txt <- gsub(pattern = "&amp","-",txt)
txt <- gsub(pattern = "â€ž","-",txt)
txt <- gsub(pattern = "â€œ","-",txt)
return(txt)
}
gsub_html(dat_qt998$qnametxt_b)
gsub_html(txt=dat_qt998$qnametxt_b)
txt3 <- gsub_html(txt=dat_qt998$qnametxt_b)
txt3[13]
gsub_html <- function(txt){
txt <- gsub(pattern = "Ã¼","ü",txt)
txt <- gsub(pattern = "</strong>"," ",txt)
txt <- gsub(pattern = "<br>"," ",txt)
txt <- gsub(pattern = "<strong>"," ",txt)
txt <- gsub(pattern = "Ã¶","ö",txt)
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt <- gsub(pattern = "Ã¤","ä",txt)
txt <- gsub(pattern = "<p>"," ",txt)
txt <- gsub(pattern = "</p>"," ",txt)
txt <- gsub(pattern = "</div>"," ",txt)
txt <- gsub(pattern = "&amp","-",txt)
txt <- gsub(pattern = "â€ž","'",txt)
txt <- gsub(pattern = "â€œ","'",txt)
return(txt)
}
txt3 <- gsub_html(txt=dat_qt998$qnametxt_b)
txt3[13]
gsub_html <- function(txt){
txt <- gsub(pattern = "Ã¼","ü",txt)
txt <- gsub(pattern = "</strong>"," ",txt)
txt <- gsub(pattern = "<br>"," ",txt)
txt <- gsub(pattern = "<strong>"," ",txt)
txt <- gsub(pattern = "Ã¶","ö",txt)
txt <- gsub(pattern = "ÃŸ","ß",txt)
txt <- gsub(pattern = "Ã¤","ä",txt)
txt <- gsub(pattern = "<p>"," ",txt)
txt <- gsub(pattern = "</p>"," ",txt)
txt <- gsub(pattern = "</div>"," ",txt)
txt <- gsub(pattern = "&amp","-",txt)
txt <- gsub(pattern = "â€ž","'",txt)
txt <- gsub(pattern = "â€œ","'",txt)
txt <- gsub(pattern = "   "," ",txt)
return(txt)
}
txt3[13]
txt3[14]
txt3[15]
txt3[16]
txt3[17]
txt3[18]
txt3[19]
txt3[20]
htmldat
info <- agrep("qt911",htmldat)
textlist <- htmldat[info]
textlist
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
qnametxt <- unlist(lapply(strsplit(textlist,"qnameq"),function(x)x[2]))
qnametxt <- unlist(lapply(qnametxt,function(x)sub(".*\\\"> *(.*?)", "\\1", x)))
data.frame(txtline=info,idtype,divclass,qnameq,qnametxt)
findid_qt911 <- function(htmldat){
info <- agrep("qt911",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
qnametxt <- unlist(lapply(strsplit(textlist,"qnameq"),function(x)x[2]))
qnametxt <- unlist(lapply(qnametxt,function(x)sub(".*\\\"> *(.*?)", "\\1", x)))
return(data.frame(txtline=info,idtype,divclass,qnameq,qnametxt))
}
dat2 <- findid_qt911(htmldat)
head(dat2)
unlist(lapply(textlist,function(x)sub(".*questiontext *(.*?) *\\\".*", "\\1", x)))
info <- agrep("qt911",htmldat)
textlist <- htmldat[info]
idtype <- unlist(lapply(textlist,function(x)sub(".*div id=\\\" *(.*?) *\\\".*", "\\1", x)))
length(idtype)
length(questtext)
questtext <- unlist(lapply(textlist,function(x)sub(".*questiontext *(.*?) *\\\".*", "\\1", x)))
length(questtext)
questtext[1]
info <- agrep("qt911",htmldat)
info[[1]]
info[1]
htmldat[info[1]]
info <- agrep("qt111",htmldat)
htmldat[info[1]]
info <- agrep("qt111",htmldat)
htmldat[info[1]]
htmldat <- readLines("Druckversion_eb.html")
info <- agrep("qt111",htmldat)
head(info)
info <- agrep("qt911",htmldat)
head(info)
?agrep
info <- agrep("qt111", max.distance = 0.05,htmldat)
head(info)
info <- agrep("qt111", max.distance = 0.01,htmldat)
head(info)
info <- agrep("qt111", max.distance = 0.4,htmldat)
head(info)
info <- agrep("qt311", max.distance = 0.05,htmldat)
head(info)
info <- agrep("qnameq21647", max.distance = 0.05,htmldat)
head(info)
htmldat[info[1]]
htmldat[info[2]]
info <- agrep("qnameq", max.distance = 0.05,htmldat)
info
questnr <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
info <- agrep("qnameq", max.distance = 0.05,htmldat)
questnr <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
questnr
find_questtxt <- function(htmldat){
info <- agrep("questiontext", max.distance = 0.05,htmldat)
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
}
find_questtxt <- function(htmldat){
info <- agrep("questiontext", max.distance = 0.05,htmldat)
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
return(questtext)
}
find_questtxt(htmldat)
info <- agrep("questiontext", max.distance = 0.1,htmldat)
info
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
questtext
info <- agrep("questiontext", max.distance = 0.1,htmldat)
textlist <- htmldat[info]
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
questtext
strsplit(x = questtext,split = </a>)
strsplit(x = questtext,split = "</a>")
info_list <- strsplit(x = questtext,split = "</a>")
find_questtxt <- function(htmldat){
info <- agrep("questiontext", max.distance = 0.1,htmldat)
textlist <- htmldat[info]
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
info_list <- strsplit(x = questtext,split = "</a>")
questtxt <- lapply(info_list,function(x)x[2])
return(questtxt)
}
find_questtxt(htmldat)
info_txt <- find_questtxt(htmldat)
gsub_html(info_txt)
info_txt <- gsub_html(info_txt)
info <- agrep("qt998", max.distance = 0.1,htmldat)
info
info <- agrep("questiontable", max.distance = 0.1,htmldat)
textlist <- htmldat[info]
qts<- unlist(lapply(textlist,function(x)sub("class=*(.*?) *\\\".*", "\\1", x)))
qts
qts <- unlist(lapply(textlist,function(x)sub(".*qt *(.*?) *\\\".*", "\\1", x)))
qts
qts <- paste0("qt",qts)
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
length(questtext)
length(qts)
data.frame(qts,questtext)
dat4 <- data.frame(qts,questtext)
View(dat4)
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
dat4 <- data.frame(qts,qnameq)
head(dat4)
find_questiontable <- function(htmldat){
info <- agrep("questiontable", max.distance = 0.1,htmldat)
textlist <- htmldat[info]
qts <- unlist(lapply(textlist,function(x)sub(".*qt *(.*?) *\\\".*", "\\1", x)))
qts <- paste0("qt",qts)
qnameq <- unlist(lapply(textlist,function(x)sub(".*qnameq *(.*?) *\\\".*", "\\1", x)))
idtype <- unlist(lapply(textlist,
function(x)sub(".*div id=\\\" *(.*?) *\\\".*",
"\\1", x)))
divclass <- unlist(lapply(textlist,function(x)sub(".*div class=\\\" *(.*?) *\\\".*", "\\1",x)))
questtext <- unlist(lapply(textlist,function(x)sub(".*</a> *(.*?) *\\\".*", "\\1", x)))
info_list <- strsplit(x = questtext,split = "</a>")
questtxt <- lapply(info_list,function(x)x[2])
return(data.frame(qts,qnameq,idtype,divclass))
}
dat4 <- find_questiontable(htmldat = htmldat)
head(dat4)
info2 <- agrep("instruction", max.distance = 0.1,htmldat)
insttxt <- textlist[info2]
insttxt
insttxt_list <- textlist[info2]
questtext <- unlist(lapply(insttxt_list,function(x)sub(".*instruction *(.*?) *\\\".*", "\\1", x)))
insttext <- unlist(lapply(insttxt_list,function(x)sub(".*instruction *(.*?) *\\\".*", "\\1", x)))
insttext
insttxt_list
info2
info2 <- agrep("instruction", max.distance = 0.1,textlist)
insttxt_list <- textlist[info2]
insttext <- unlist(lapply(insttxt_list,function(x)sub(".*instruction *(.*?) *\\\".*", "\\1", x)))
insttext
insttxt_list
info2 <- agrep("instruction", max.distance = 0.1,textlist)
info2
textlist
info <- agrep("questiontable", max.distance = 0.1,htmldat)
textlist <- htmldat[info]
textlist
info2 <- agrep("instruction", max.distance = 0.1,textlist)
info2
textlist
htmldat
info2 <- agrep("instruction", max.distance = 0.1,textlist)
info2
info <- strsplit("questiontable",htmldat)
info <- agrep("questiontable", max.distance = 0.1,htmldat)
info
htmldat2 <- paste(htmldat,collapse = " ")
info <- strsplit("questiontable", max.distance = 0.1,htmldat2)
info <- strsplit("questiontable",htmldat2)
htmldat2
info <- strsplit("questiontable",htmldat2)
length(info)
qts <- unlist(lapply(textlist,function(x)sub(".*qt *(.*?) *\\\".*", "\\1", x)))
qts <- unlist(lapply(info,function(x)sub(".*qt *(.*?) *\\\".*", "\\1", x)))
qts
insttext <- unlist(lapply(insttxt_list,function(x)sub(".*instruction *(.*?) *\\\".*", "\\1", x)))
insttext
info <- agrep("questiontable", max.distance = 0.1,htmldat)
info
head(info)
length(htmldat)
tail(info)
info_end <- c(info[-1],length(htmldat))
for (i in 1:length(info)){
info_ls[[i]] <- htmldat[info[i]:info_end[i]]
}
